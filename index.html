<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#111111"> 
    <title>Buscador</title>
   
 <link rel="stylesheet" href="styles.css">
<!-- 
<script src="https://cdn.sheetjs.com/xlsx-0.20.0/package/dist/xlsx.full.min.js"></script>
 -->

</head>


<body id="editor">
  

   <main>
    <!-- <h1>BUSCADOR</h1>  -->
     <div class="contenedor-titulo-animado">
        <div class="buscador-animacion">
            <div class="b display-none">B</div>
            <div class="u display-none">U</div>
            <div class="s display-none">S</div>
            <div class="c display-none">C</div>
            <div class="a display-none">A</div>
            <div class="d display-none">D</div>
            <div class="o display-none">O</div>
            <div class="r display-none">R</div>
        </div>
        <div id="contenedor-lupa" class="contenedor-lupa">
            <div class="circulo"></div>
            <div class="mango"></div>
        </div>
     </div>
    
            <div class="readme">
                <p>Esta app es un buscador en tiempo real sobre datos ingresados en formato CSV o XLSX con gran flexibilidad al momento de exportar los resultados como archivo CSV, XLSX O JSON. Todo el procesamiento de la información se lleva a cabo en el navegador del usuario, no se importa ninguna biblioteca JavaScript de terceros, y ningún dato es enviado fuera del entorno local, ya que esta aplicación no contiene backend.</p>
                <p>* El uso de este sitio para procesar información sensible es responsabilidad absoluta del usuario</p>
            </div>
 
            <button id="btn-abrir-modal" class="btn-abrir-modal">Instrucciones de uso</button>
 
  <section id="contenedor-modal" class="contenedor-modal display-none">
       <div class="modal">
             <button id="btn-modal" class="btn-modal">X</button>
            <p class="lograr">Podrás:</p>
            <ul class="lista-lograr">
                <li>Cargar datos en formato CSV o XLSX</li>
                <li>Elegir sobre cuáles campos buscar</li>
                <li>Comprobar en tiempo real la presencia de los términos ingresados</li>
                <li>Ver los detalles de cada registro que contenga términos encontrados</li>
                <li>Exportar en formato CSV, XLSX o JSON el resultado de la búsqueda, con la posibilidad de elegir cuáles campos incluir</li>
            </ul>
            
        <div class="instrucciones">
            <h2>Instrucciones de uso</h2>
            <ul>
                <li>1. Cargar archivo CSV (botón "Cargar CSV") o XLSX (botón "Cargar XLSX")</li>
                <li>2. Especificar el TIPO DE SEPARADOR que presenta el archivo ("Separador detectado")</li>
                <li>3. Clic en "Confirmar y procesar" (la app detecta los nombres de los campos en forma automática)</li>
                <li>4. Para ver todos los registros (clic en "Ver todo")</li>
                <li>5. Para hacer búsquedas: seleccionar el o los campos donde se quiere buscar</li>
                <li>6. Clic en "Fijar campos"</li>
                <li>7. Ingresar términos de interés en el buscador</li>
                <li>8. Para ver detalles de un registro, clic en <button disabled class="ver-mas ver-mas-instrucciones">Ver más</button></li>
                <li>9. Para exportar el resultado de la búsqueda en formato CSV, XLSX o JSON: clic en <button disabled class="guardar btn-instrucciones">Exportar como .csv</button> , <button disabled class="guardar btn-instrucciones">Exportar como .xlsx</button> en  <button disabled  class="guardar btn-instrucciones">Exportar como .json</button>, respectivamente. Permite seleccionar cuáles campos guardar (luego clic en "Guardar campos"), asignarle un nombre al archivo de descarga y, para CSV, permite elegir el separador de campos</li>

        
            </ul>
      </div>
    </div>
</section>
    <div class="dark-mode-toggle modern" id="dark-mode-toggle">
        <span class="icon"></span>
   </div>


    
    <div class="contenedor-total">   

        
                
      <!--.......................   EDITOR CSV    ....................-->
       <div id="editor" class="contenedor-botones">
            <div class="custom-file">
             
                
                <input type="file" id="csvFile" accept=".csv" style="display:none" />
                <button id="cargar-CSV-Button" type="button" class="btn-verde">Cargar CSV</button>
                
                <input type="file" id="xlsxInput" accept=".xlsx"/>
                <button id="cargar-XLSX-Button" type="button" class="btn-verde">Cargar XLSX</button>
                <span id="fileName" class="mostrar-nombre display-none"></span>
              

            </div>
            
         
       </div>

       

          <!-- Selector de separador -->
            <div id="selectorSeparadorContainer" class="display-none">
                <label for="selectorSeparador">Separador detectado:</label>
                <select id="selectorSeparador">
                    <option value=",">Coma (,)</option>
                    <option value=";">Punto y coma (;)</option>
                    <option value="\t">Tabulación (↹)</option>
                    <option value="|">Barra vertical (|)</option>
                </select>
                <button id="confirmarSeparadorBtn" class="btn-verde font-size">Confirmar y procesar</button>
            </div>


      <!--.......................   BUSCADOR    ....................-->

 

  
 <section id="map-section" class="map-section display-none">
    <div id="nombre-archivo-buscador"></div> 
   
  
  
    <div id="container-resultados" class="container-resultados">
         <div class="seccion-campos">
           <div class="header-campos">
               
                <button id="fijarCampos" class="establecer-campos-btn animationBtn paused" >Fijar Campos</button>
              
                 
           </div>   
         
          
          <div class="contenedor-padre-fields-containter">
                <div class="padre-fields-container"> 
                      <div class="ver-todo-contenedor">
                        <button id="ver-todo">Ver todo</button>
                      </div>
                      <div id="fieldsContainer" class="fields-container"></div>
                </div>    
          </div>
           
        </div>

    
       <div class="buscador-resultados">
               
            <!-- INPUT BUSCADOR -->
                
                <div id="contenedor-inputBuscador" class="contenedor-inputBuscador">
                   
                    <input type="search" id="buscador" style="opacity: 0.4" class="buscador-vacio" disabled>
                
                     <div class="cantidad-resultados" id="cantidad-resultados"></div>
                </div>
   
     
     
                <div id="contenedor-guardar-btns" class="contenedor-guardar-btns display-none">
                    
                    <button id="guardar-como-csv" class="guardar">Exportar como .csv</button>
                    <button id="descargar-csv" class="animationBtn display-none">Descargar CSV</button> 
                    <button id="volver-btn" class="volverBtn invisible">X</button> 
                    
                    <button id="guardar-como-xlsx" class="guardar">Exportar como .xlsx</button>
                   
                    <button id="descargar-xlsx" class="animationBtn display-none">Descargar XLSX</button> 

                     <button id="guardar-como-json" class="guardar">Exportar como .json</button>
                   
                    <button id="descargar-json" class="animationBtn display-none">Descargar JSON</button> 
                </div>
                <div class="contenedor-switch-btn">
                     <button id="switch-btn" class="switch-btn display-none">X</button>
             
                </div>
                
                  
                  <div class="contenedor-abreviados-completo">
                     <div id="claveOpciones" class="checkbox-group contenedor-checkbox">
                     
                     </div>
  
           
                     <div id="contenido-completo" class="contenido-completo display-none"></div>
                     
                     <div id="resultados" class="resultados"></div>
                     
                </div>
              
                    
        </div>
    </div> 
   
  </section>

 
  



</main>

<!-- Modal para ingresar nombre de archivo -->
<div id="modalNombreArchivo" class="modal-overlay display-none">
  <div class="modal-contenido">
    <!-- <h3>Guardar como CSV</h3> -->

   <!--  Elegir separador para descargar -->
    <div id="elegir-separador-csv">
      <h3>Guardar como CSV</h3>
      <label for="separadorCSV">Separador de campos:</label>
      <select id="separadorCSV">
        <option value=",">Coma (,)</option>
        <option value=";">Punto y coma (;)</option>
        <option value="|">Barra vertical (|)</option>
        <option value="\t">Tabulación</option>
      </select>
    </div>

    <label for="nombreArchivo">Nombre del archivo:</label>
    <input type="text" id="nombreArchivo" placeholder="Ej: resultados_filtrados" />
    <div class="modal-botones">
      <button id="confirmarNombreBtn" class="btn-confirmar-nombre" >Guardar</button>
      <button id="cancelarNombreBtn" class="btn-cancelar-nombre">Cancelar</button>
    </div>
  </div>
</div>

<!-- -------------------------------   FOOTER   --------------------- -->


  <footer class="footer">
   
      <div class="footer-container">
        <div class="footer-content">
          
          <button 
         
            class="back-to-top"
            aria-label="Back to top">
           <a href="#editor">
            <img src="https://cdn.prod.website-files.com/681a3543e37b9a222a8ce9b8/681f7868c518eee5abc681b0_Arrow.svg" loading="lazy" alt="Arrow Icon" style="color: gray;">
           </a>
          </button>


          <div class="social-section">
          
            <div class="social-links">
                <div class="desarrollo">
                        <div class="texto">Desarrollo Web</div>
                        <div class="contenedor-nombre-linkedin">
                             <div class="nombre">Leonardo Prone</div>
                        </div>
                       
                </div>
                <div class="button-social" >
                   
                    <a class="facebook-class social-link" href="https://www.linkedin.com/in/leonardo-prone/" target="_blank">
                       </a>
                </div>
               
                  
              
            </div>
          </div>

          
           
        </div>
      </div>
      
     
    </footer>
    



 <script src="index.js"></script> 
 <script src="sheetjs.js"></script>
 <script src="papaparse.js"></script>

</body>
</html>
