<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#111111"> 
    <title>Buscador</title>
   
 <link rel="stylesheet" href="styles.css">
<!--  <link rel="stylesheet" href="footer.css"> -->
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>


</head>


<body id="editor">
   <!-- <div class="header">
    
    
     <h1>BUSCADOR - EL HUB</h1> 
   </div> -->
    <div class="heade">
   <!--  <a href="" class="logo" aria-label="Inicio">
        <video class="video1" src="el_hub_logotipo.mp4" muted autoplay loop></video>   
      
    </a> -->
     
     <!-- <h1>BUSCADOR - EL HUB</h1>  -->
   </div>

   <main>
    <!-- <h1>BUSCADOR</h1>  -->
     <div class="contenedor-titulo-animado">
        <div class="buscador-animacion">
            <div class="b display-none">B</div>
            <div class="u display-none">U</div>
            <div class="s display-none">S</div>
            <div class="c display-none">C</div>
            <div class="a display-none">A</div>
            <div class="d display-none">D</div>
            <div class="o display-none">O</div>
            <div class="r display-none">R</div>
        </div>
        <div id="contenedor-lupa" class="contenedor-lupa">
            <div class="circulo"></div>
            <div class="mango"></div>
        </div>
     </div>
    
            <div class="readme">
                <p>* Este sitio es un buscador dinámico sobre datos ingresados en formato CSV. La gestión de dichos datos se lleva a cabo plenamente en el navegador del usuario, ningún dato es enviado fuera del entorno local, ya que esta aplicación no contiene backend</p>
            </div>
 
            <button id="btn-abrir-modal" class="btn-abrir-modal">Instrucciones de uso</button>
 
  <section id="contenedor-modal" class="contenedor-modal display-none">
       <div class="modal">
             <button id="btn-modal" class="btn-modal">X</button>
            <p class="lograr">Podrás:</p>
            <ul class="lista-lograr">
                <li>Cargar datos en formato CSV</li>
                <li>Elegir sobre cuáles campos buscar</li>
                <li>Comprobar en tiempo real la presencia de los términos ingresados</li>
                <li>Ver los detalles de cada registro que contenga términos encontrados</li>
                <li>Exportar en formato CSV o JSON el resultado de la búsqueda, con la posibilidad de elegir cuáles campos incluir</li>
            </ul>
            
        <div class="instrucciones">
            <h2>Instrucciones de uso</h2>
            <ul>
                <li>1. Cargar archivo CSV (botón "Cargar CSV")</li>
                <li>2. Especificar el TIPO DE SEPARADOR que presenta el archivo ("Separador detectado")</li>
                <li>3. Clic en "Confirmar y procesar"</li>
                <li>4. Para ver todos los registros (clic en "Ver todo")</li>
                <li>5. Para hacer búsquedas: seleccionar el o los campos donde se quiere buscar</li>
                <li>6. Clic en "Fijar campos"</li>
                <li>7. Ingresar términos de búsqueda en el buscador</li>
                <li>8. Para ver detalles de un registro, clic en <button disabled class="ver-mas ver-mas-instrucciones">Ver más</button></li>
                <li>9. Para exportar el resultado de la búsqueda en formato CSV o JSON: clic en <button disabled class="guardar btn-instrucciones">Guardar Resultado como .csv</button> o en  <button disabled  class="guardar btn-instrucciones">Guardar Resultado como .json</button>, respectivamente (permite elegir cuáles campos guardar) </li>

        
            </ul>
      </div>
    </div>
</section>
    <div class="dark-mode-toggle modern" id="dark-mode-toggle">
        <span class="icon"></span>
   </div>
   
<!-- 
<button id="btnGuardar" class="guardar">Guardar como PDF</button> -->

    
    <div class="contenedor-total">   

        
                
      <!--.......................   EDITOR CSV    ....................-->
       <div id="editor" class="contenedor-botones">
            <div class="custom-file">
             
                
                <input type="file" id="csvFile" accept=".csv" style="display:none" />
                <button id="cargar-CSV-Button" type="button" class="btn-verde">Cargar CSV</button>

                <input type="file" id="fasta-file" accept=".fasta, .fa" multiple style="display:none"/>
                <button type="button" id="fasta-btn" class="btn-verde" style="display:none">Cargar Archivo FASTA</button>
                <span id="fileNameFasta" class="mostrar-nombre display-none"></span>

                <button id="mostrar-buscador-btn" type="button" class="btn-verde display-none" style="display: none;">Mostrar Buscador</button>
                <!-- <button id="btn-mostrar-editor-sinonimos" class="btn-verde display-none">Lista de Términos</button>
                -->

               <!--  <button id="reload-btn" type="button" class="btn-verde display-none">Cambiar Archivo</button> -->
                <span id="fileName" class="mostrar-nombre display-none"></span>
                <button id="regenerarTablaButton" type="button" class="btn-verde" style="display: none;">Mostrar Tabla</button>
                             
                

            </div>
            
         
       </div>

       

          <!-- Selector de separador -->
            <div id="selectorSeparadorContainer" class="display-none">
                <label for="selectorSeparador">Separador detectado:</label>
                <select id="selectorSeparador">
                    <option value=",">Coma (,)</option>
                    <option value=";">Punto y coma (;)</option>
                    <option value="\t">Tabulación (↹)</option>
                    <option value="|">Barra vertical (|)</option>
                </select>
                <button id="confirmarSeparadorBtn" class="btn-verde font-size">Confirmar y procesar</button>
            </div>

            <!-- Vista previa del CSV -->
            <div id="vistaPreviaContainer" class="display-none">
                <h4>Vista previa del archivo:</h4>
                <table id="vistaPreviaTabla" border="1"></table>
            </div>

      <!--.......................   BUSCADOR    ....................-->

 

  
 <section id="map-section" class="map-section display-none">
    <div id="nombre-archivo-buscador"></div> 
   
   <!--  <div class="cantidad-resultados" id="cantidad-resultados"></div> -->
  
    <div id="container-resultados" class="container-resultados">
         <div class="seccion-campos">
           <div class="header-campos">
               
                <button id="fijarCampos" class="establecer-campos-btn animationBtn paused" >Fijar Campos</button>
                <!-- <div id="seleccionar-campos" class="seleccionar-campos">Seleccionar Campos de Búsqueda</div> -->
                <!-- <a href="#editor">Cambiar de Archivo</a> -->
                 
           </div>   
         
          <!--  <button id="fijarCampos" class="establecer-campos-btn animationBtn">Fijar Campos</button> -->
          <div class="contenedor-padre-fields-containter">
                <div class="padre-fields-container"> 
                      <div class="ver-todo-contenedor">
                        <button id="ver-todo">Ver todo</button>
                      </div>
                      <div id="fieldsContainer" class="fields-container"></div>
                </div>    
          </div>
           
        </div>

    
       <div class="buscador-resultados">
                <!-- <button id="switch-btn" class="switch-btn display-none">X</button> -->
            <!-- INPUT BUSCADOR -->
                
                <div id="contenedor-inputBuscador" class="contenedor-inputBuscador">
                   
                    <input type="search" id="buscador" style="opacity: 0.4" class="buscador-vacio" disabled>
                    <!-- <div class="contenedor-guardar-btns bg-gray">
                        <button id="mostrar" class="guardar">Mostrar Contexto</button>
                        <button id="noMostrar" class="guardar">No Mostrar Contexto</button>
                    </div>  -->   
                    
             
                     <div class="cantidad-resultados" id="cantidad-resultados"></div>
                </div>
   
     
     
                <div id="contenedor-guardar-btns" class="contenedor-guardar-btns display-none">
                    
                    <button id="guardar-como-csv" class="guardar">Guardar Resultado como .csv</button>
                    <button id="descargar-csv" class="animationBtn display-none">Descargar CSV</button> 
                    <button id="volver-btn" class="volverBtn invisible">X</button> 
                    
                    <button id="guardar-como-json" class="guardar">Guardar Resultado como .json</button>
                   
                    <button id="descargar-json" class="animationBtn display-none">Descargar JSON</button> 
                </div>
                <div class="contenedor-switch-btn">
                     <button id="switch-btn" class="switch-btn display-none">X</button>
             
                </div>
                 <!-- <div id="claveOpciones" class="checkbox-group contenedor-checkbox"></div>
      -->
                 
                  
                  <div class="contenedor-abreviados-completo">
                     <div id="claveOpciones" class="checkbox-group contenedor-checkbox"></div>
  
           
                     <div id="contenido-completo" class="contenido-completo display-none"></div>
                     
                     <div id="resultados" class="resultados"></div>
                     
                </div>
              
                    
        </div>
    </div> 
   
  </section>

 
  






  <div class="contenedor-btn-mostrar-editor-sinonimos display-none">
     <button id="btn-mostrar-editor-sinonimos" class="display-none">Lista de Términos</button>
 </div>

       <!-------------------------------  TABLA  ------------------------------------------------>
       
       <div id="contenedor-tabla" class="contenedor-tabla display-none">
            <div id="ir-buscador"></div>
            
            <div class="contenedor-botones-tabla">
                
                <button id="descargarTablaComoCsv">Descargar Tabla como CSV</button>
                <button id="descargarTablaComoJson">Descargar Tabla como JSON</button>
                <button id="actualizar-buscador-btn" class="border-color">Actualizar Buscador</button> 
            </div>
            <br>
<!--             <div id="tabla-titulo" class="tabla-titulo"></div> -->
            <span id="conteo-resultados" class="conteo-resultados-tabla"></span>
            <div id="preview"></div>
      </div>




      


      <!---------------------TÉRMINOS------------------------------->

      
      <div id="tabla-sinonimos" class="tabla-sinonimos display-none">
        <div id="titulo-sinonimos" class="titulo-sinonimos">Términos Similares</div>
        <div class="contenedor-inicial">
            <div class="contenedor-importar-btn">

                <!--  -----------  CARGAR LISTA DE SINÓNIMOS  ------------>
                <label for="inputJson" class="file-label" id="file-label">Importar archivo de términos (.json)</label>
                <input type="file" name="" accept=".json" id="inputJson" class="display-none">
                <button id="reset-btn" class="reset-btn display-none">Cambiar de Archivo</button>
                
            </div>
             <!--  -----------  AGREGAR TÉRMINOS  ------------>
             <button type="text" id="agregar-terminos" class="agregar-terminos display-none">Agregar Familia de Términos</button>
            <!--  -----------  CREAR LISTA DE TÉRMINOS  ------------>
            <button type="text" id="crear-lista-sinonimos" class="crear-lista-sinonimos">Crear Lista de Términos</button>   
        </div>

        <div id="formulario-sinonimos" class="formulario-sinonimos">
            <div class="contenedor-carga-sinonimos">
                <input type="text" id="sinonimos" class="sinonimos-input" placeholder="Ingresar términos similares separados por coma">
                <button id="btn-agregar" class="btn-agregar">Agregar</button>
            </div>
            <div class="descarga">
    
                <input type="text" id="nombreArchivoSinonimos" placeholder="Nombre de descarga">
                <button id="descargar-sinonimos-json" onclick="descargarComoJSON()">Descargar como JSON</button>
            </div>
        </div>
        <ul id="listaSinonimos"></ul>
      </div>


 </div>
</main>

<!-- Modal para ingresar nombre de archivo -->
<div id="modalNombreArchivo" class="modal-overlay display-none">
  <div class="modal-contenido">
    <h3>Guardar como CSV</h3>
    <label for="nombreArchivo">Nombre del archivo:</label>
    <input type="text" id="nombreArchivo" placeholder="Ej: resultados_filtrados" />
    <div class="modal-botones">
      <button id="confirmarNombreBtn" class="btn-confirmar-nombre" >Guardar</button>
      <button id="cancelarNombreBtn" class="btn-cancelar-nombre">Cancelar</button>
    </div>
  </div>
</div>

<!-- -------------------------------   FOOTER   --------------------- -->


  <footer class="footer">
   
      <div class="footer-container">
        <div class="footer-content">
          
          <button 
         
            class="back-to-top"
            aria-label="Back to top">
           <a href="#editor">
            <img src="https://cdn.prod.website-files.com/681a3543e37b9a222a8ce9b8/681f7868c518eee5abc681b0_Arrow.svg" loading="lazy" alt="Arrow Icon" style="color: gray;">
           </a>
          </button>


          <div class="social-section">
           <!--  <p class="social-title">Social media</p> -->
            <div class="social-links">
                <div class="desarrollo">
                        <div class="texto">Desarrollo Web</div>
                        <div class="contenedor-nombre-linkedin">
                             <div class="nombre">Leonardo Prone</div>
                        </div>
                       
                </div>
                <div class="button-social" >
                   
                    <a class="facebook-class social-link" href="https://www.linkedin.com/in/leonardo-prone/" target="_blank">
                       </a>
                </div>
               
                  
              
            </div>
          </div>

          
           
        </div>
      </div>
      
     
    </footer>
    


<!--  <script src="logo.js"></script>  -->
 <script src="index.js"></script> 


</body>
</html>
